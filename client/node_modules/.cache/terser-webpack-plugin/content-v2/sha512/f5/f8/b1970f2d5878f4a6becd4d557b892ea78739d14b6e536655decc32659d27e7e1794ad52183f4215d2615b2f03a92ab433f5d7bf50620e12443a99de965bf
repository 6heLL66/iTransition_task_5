{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(t,e,a){\"use strict\";a.r(e);var s=a(0),n=a(1),i=a.n(n),c=a(53),o=a.n(c),r=(a(62),a(55)),l=a(2),h=a(20),d=a.n(h),u=a(32),m=a(7),p=a(8),j=a(10),b=a(9),f=(a(35),function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(m.a)(this,a),(s=e.call(this,t)).state={games:[],findedGames:[],modal:\"modal fade\"},s}return Object(p.a)(a,[{key:\"componentDidMount\",value:function(){this.updateGames(),localStorage.getItem(\"id\")||localStorage.setItem(\"id\",\"f\".concat((+new Date).toString(16)))}},{key:\"getName\",value:function(t){return this.state.games[t].props.name}},{key:\"updateGames\",value:function(){var t=Object(u.a)(d.a.mark((function t(){var e,a,n=this;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"/api/getGames\",{method:\"POST\"});case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,this.state.games=[],this.state.findedGames=[],a.map((function(t,e){n.state.games.push(Object(s.jsx)(x,{getName:n.getName.bind(n),name:t.name,players:t.playersCount,number:e+1,status:t.status,tags:t.tags},e)),n.state.findedGames.push(n.state.games[e])})),this.forceUpdate();case 10:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:\"showModal\",value:function(){this.setState({modal:\"modal fade show\"})}},{key:\"hideModal\",value:function(){this.setState({modal:\"modal fade\"})}},{key:\"hideGames\",value:function(t){this.setState({findedGames:t})}},{key:\"clearCookie\",value:function(){localStorage.clear()}},{key:\"render\",value:function(){return Object(s.jsxs)(\"div\",{className:\"container\",children:[Object(s.jsx)(v,{games:this.state.games,func:this.hideGames.bind(this),flag:\"findTags\"}),Object(s.jsxs)(\"table\",{className:\"table table-dark table-striped\",children:[Object(s.jsx)(\"thead\",{children:Object(s.jsxs)(\"tr\",{children:[Object(s.jsx)(\"th\",{scope:\"col\",children:\"#\"}),Object(s.jsx)(\"th\",{scope:\"col\",children:\"Name\"}),Object(s.jsx)(\"th\",{scope:\"col\",children:\"Players\"}),Object(s.jsx)(\"th\",{scope:\"col\",children:\"Status\"})]})}),Object(s.jsx)(\"tbody\",{children:this.state.findedGames})]}),Object(s.jsx)(\"div\",{className:\"form-row text-center\",children:Object(s.jsx)(\"button\",{className:\"btn btn-outline-success\",onClick:this.showModal.bind(this),children:\"+Create New Game\"})}),Object(s.jsx)(O,{fade:this.state.modal,hide:this.hideModal.bind(this)})]})}}]),a}(i.a.Component)),x=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){return Object(m.a)(this,a),e.call(this,t)}return Object(p.a)(a,[{key:\"connectToGame\",value:function(t){window.location.href=\"/game/\"+this.props.getName(this.props.number-1)}},{key:\"render\",value:function(){return Object(s.jsxs)(\"tr\",{style:{cursor:\"pointer\"},onClick:this.connectToGame.bind(this),children:[Object(s.jsx)(\"th\",{scope:\"row\",children:this.props.number}),Object(s.jsx)(\"td\",{children:this.props.name}),Object(s.jsx)(\"td\",{children:this.props.players+\"/2\"}),Object(s.jsx)(\"td\",{children:this.props.status})]})}}]),a}(i.a.Component),v=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){return Object(m.a)(this,a),e.call(this,t)}return Object(p.a)(a,[{key:\"find\",value:function(t){var e=t.target.value.split(\" \");if(\"findTags\"===this.props.flag){for(var a=[],s=this.props.games,n=0;n<s.length;n++){for(var i=!1,c=0;c<s[n].props.tags.length;c++)for(var o=0;o<e.length;o++)e[o]===s[n].props.tags[c]&&(i=!0);i&&a.push(s[n])}\"\"===t.target.value?this.props.func(s):this.props.func(a)}else\"setTags\"===this.props.flag&&this.props.func(e)}},{key:\"render\",value:function(){return Object(s.jsx)(\"input\",{className:\"form-control mb-2 mt-2\",style:{width:\"30%\",minWidth:\"120px\"},placeholder:\"Type tags...\",autocomplete:\"on\",onInput:this.find.bind(this)})}}]),a}(i.a.Component),O=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(m.a)(this,a),(s=e.call(this,t)).state={name:\"\",tags:[]},s}return Object(p.a)(a,[{key:\"changeHandler\",value:function(t){this.state.name=t.target.value}},{key:\"updateTags\",value:function(t){this.setState({tags:t})}},{key:\"createGame\",value:function(){var t=Object(u.a)(d.a.mark((function t(){var e,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:this.state.name,playersCount:\"0\",players:{x:\"\",o:\"\"},score:[0,0],status:\"waiting\",turn:\"x\",state:[[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"]],continue:[],tags:this.state.tags},t.next=3,fetch(\"/api/createGame\",{method:\"POST\",body:JSON.stringify(e),headers:{\"Content-Type\":\"application/json\"}});case 3:return a=t.sent,t.t0=console,t.next=7,a.json();case 7:t.t1=t.sent,t.t0.log.call(t.t0,t.t1),window.location.href=\"/game/\"+e.name;case 10:case\"end\":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:\"render\",value:function(){return Object(s.jsx)(\"div\",{className:this.props.fade,id:\"exampleModal\",style:{display:\"modal fade\"===this.props.fade?\"none\":\"block\"},children:Object(s.jsx)(\"div\",{className:\"modal-dialog\",children:Object(s.jsxs)(\"div\",{className:\"modal-content\",children:[Object(s.jsxs)(\"div\",{className:\"modal-header\",children:[Object(s.jsx)(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Create New Game\"}),Object(s.jsx)(\"button\",{className:\"btn-close\",\"aria-label\":\"Close\",onClick:this.props.hide})]}),Object(s.jsxs)(\"div\",{className:\"modal-body\",children:[Object(s.jsx)(\"label\",{children:\"Name:\"}),Object(s.jsx)(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"game's name\",onInput:this.changeHandler.bind(this)}),Object(s.jsx)(v,{games:[],func:this.updateTags.bind(this),flag:\"setTags\"})]}),Object(s.jsx)(\"div\",{className:\"form-row text-center\",children:Object(s.jsx)(\"button\",{className:\"btn btn-primary mb-2\",onClick:this.createGame.bind(this),children:\"Create Game\"})})]})})})}}]),a}(i.a.Component),g=f,y=a(54),w=a.n(y),k=(a(97),w()(\"http://localhost:3000\")),N=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(m.a)(this,a),(s=e.call(this,t)).state={state:[[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"]],playersCount:0,turn:\"x\",winner:\"no\",status:\"waiting\",modal:\"modal fade\",team:\"\",room:window.location.href.split(\"/\")[4],score:[0,0],players:{x:\"\",y:\"\"}},s}return Object(p.a)(a,[{key:\"showWin\",value:function(t){this.setState({winner:t.team,modal:\"modal fade show\"})}},{key:\"componentDidMount\",value:function(){var t=this;k.on(\"redirectOnMain\",(function(){return window.location.href=\"/\"})),k.emit(\"connectPlayer\",{room:this.state.room,id:localStorage.getItem(\"id\")}),k.on(\"updateClient\",(function(e){t.setState({state:e.state,turn:e.turn,status:e.status,playersCount:e.playersCount,players:e.players,score:e.score,team:e.players.x===localStorage.getItem(\"id\")?\"x\":\"o\",modal:\"modal fade\",winner:\"no\"}),console.log(t.state);var a=t.checkWin();a&&t.showWin(a)})),k.on(\"setCookie\",(function(t){fetch(\"/api/setCookie\",{method:\"POST\",body:JSON.stringify(t),headers:{\"Content-Type\":\"application/json\"}})}))}},{key:\"checkWin\",value:function(){var t,e=this.state.state,a=!0;return e[0].map((function(s,n){\"-\"===s||\"-\"===e[1][n]||\"-\"===e[2][n]?a=!1:s===e[1][n]&&s===e[2][n]&&(t={win:[[0,n],[1,n],[2,n]],team:s})})),e.map((function(e,s){\"-\"===e[0]||\"-\"===e[1]||\"-\"===e[2]?a=!1:e[0]===e[1]&&e[0]===e[2]&&(t={win:[[s,0],[s,1],[s,2]],team:e[0]})})),a?{team:\"draw\"}:e[0][0]===e[1][1]&&e[1][1]===e[2][2]&&\"-\"!=e[0][0]?{win:[[0,0],[1,1],[2,2]],team:e[0][0]}:e[0][2]===e[1][1]&&e[1][1]===e[2][0]&&\"-\"!=e[0][2]?{win:[[0,2],[1,1],[2,0]],team:e[0][2]}:t||!1}},{key:\"set\",value:function(t,e){\"-\"===this.state.state[e][t]&&this.state.turn===this.state.team&&(this.state.state[e][t]=this.state.team,this.state.turn=\"x\"===this.state.turn?\"o\":\"x\",k.emit(\"updateGame\",{prop:\"state\",value:this.state.state,room:this.state.room}),k.emit(\"updateGame\",{prop:\"turn\",value:this.state.turn,room:this.state.room}))}},{key:\"render\",value:function(){return Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsx)(C,{turn:this.state.turn,team:this.state.team,status:this.state.status,score:this.state.score}),Object(s.jsx)(S,{state:this.state.state,set:this.set.bind(this),modal:this.state.modal,winner:this.state.winner,status:this.state.status})]})}}]),a}(i.a.Component),C=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){return Object(m.a)(this,a),e.call(this,t)}return Object(p.a)(a,[{key:\"render\",value:function(){return Object(s.jsxs)(\"div\",{className:\"info\",children:[Object(s.jsx)(\"div\",{className:\"team\",children:\"YOUR TEAM: \"+this.props.team}),Object(s.jsx)(\"div\",{className:\"status\",style:{color:\"waiting\"===this.props.status?\"yellow\":\"green\"},children:this.props.status}),Object(s.jsx)(\"div\",{className:\"score\",children:\"X: \"+String(this.props.score[0])+\" : \"+String(this.props.score[1])+\" :O\"}),Object(s.jsx)(\"div\",{className:\"turn\",style:{color:\"x\"===this.props.turn?\"red\":\"blue\"},children:\"TURN: \"+this.props.turn})]})}}]),a}(i.a.Component),S=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){var s;return Object(m.a)(this,a),(s=e.call(this,t)).state={canvas:null},s}return Object(p.a)(a,[{key:\"componentDidMount\",value:function(){var t=document.getElementById(\"canvas\");t.width=t.parentNode.offsetWidth,t.height=t.width,this.state.canvas=t,this.state.ctx=t.getContext(\"2d\"),this.drawBoard()}},{key:\"drawBoard\",value:function(){var t=this.state.canvas.width;this.state.ctx.fillStyle=\"black\",this.state.ctx.fillRect(t/3,0,2,t),this.state.ctx.fillRect(2*t/3,0,2,t),this.state.ctx.fillRect(0,t/3,t,2),this.state.ctx.fillRect(0,2*t/3,t,2)}},{key:\"componentDidUpdate\",value:function(){this.drawState()}},{key:\"drawZero\",value:function(t,e){var a=this.state.canvas.width;this.state.ctx.strokeStyle=\"blue\",this.state.ctx.lineWidth=4,this.state.ctx.beginPath(),this.state.ctx.arc(t*a/3+a/6,e*a/3+a/6,a/6-a/24,0,2*Math.PI),this.state.ctx.stroke()}},{key:\"drawCross\",value:function(t,e){var a=this.state.canvas.width;this.state.ctx.strokeStyle=\"red\",this.state.ctx.lineWidth=4,this.state.ctx.beginPath(),this.state.ctx.moveTo(t*a/3+a/24,e*a/3+a/24),this.state.ctx.lineTo(t*a/3+a/3-a/24,e*a/3+a/3-a/24),this.state.ctx.moveTo(t*a/3+a/3-a/24,e*a/3+a/24),this.state.ctx.lineTo(t*a/3+a/24,e*a/3+a/3-a/24),this.state.ctx.stroke()}},{key:\"clearBoard\",value:function(){this.state.canvas.width=this.state.canvas.width}},{key:\"drawState\",value:function(){var t=this;this.clearBoard(),this.drawBoard(),this.props.state.map((function(e,a){for(var s=0;s<e.length;s++)\"-\"!=e[s]&&(\"x\"==e[s]?t.drawCross(s,a):\"o\"==e[s]&&t.drawZero(s,a))})),console.log(this.props.state)}},{key:\"makeStep\",value:function(t){var e=this.state.canvas.offsetWidth,a=t.clientX-t.target.offsetLeft,s=t.clientY-t.target.offsetTop;console.log(a,s),a=a>=0&&a<=e/3?0:a>e/3&&a<=2*e/3?1:2,s=s>=0&&s<=e/3?0:s>e/3&&s<=2*e/3?1:2,\"no\"===this.props.winner&&\"waiting\"!==this.props.status&&this.props.set(a,s)}},{key:\"render\",value:function(){return Object(s.jsxs)(\"div\",{className:\"container text-center\",children:[Object(s.jsx)(\"canvas\",{id:\"canvas\",onClick:this.makeStep.bind(this)}),Object(s.jsx)(G,{winner:this.props.winner,fade:this.props.modal})]})}}]),a}(i.a.Component),G=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(t){return Object(m.a)(this,a),e.call(this,t)}return Object(p.a)(a,[{key:\"end\",value:function(){k.emit(\"deleteGame\",window.location.href.split(\"/\")[4])}},{key:\"continue\",value:function(){k.emit(\"addContinue\",{room:window.location.href.split(\"/\")[4],id:localStorage.getItem(\"id\"),winner:this.props.winner})}},{key:\"render\",value:function(){return Object(s.jsx)(\"div\",{className:this.props.fade,id:\"exampleModal\",style:{display:\"modal fade\"===this.props.fade?\"none\":\"block\"},children:Object(s.jsx)(\"div\",{className:\"modal-dialog\",children:Object(s.jsxs)(\"div\",{className:\"modal-content\",children:[Object(s.jsx)(\"div\",{className:\"modal-header\",children:Object(s.jsx)(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Game Info\"})}),Object(s.jsx)(\"div\",{className:\"modal-body\",children:Object(s.jsxs)(\"div\",{children:[\"Winner: \",this.props.winner.toUpperCase()]})}),Object(s.jsxs)(\"div\",{className:\"form-row text-center\",children:[Object(s.jsx)(\"button\",{className:\"btn btn-success mb-2\",onClick:this.continue.bind(this),children:\"Continue Game\"}),Object(s.jsx)(\"button\",{className:\"btn btn-danger mb-2 ml-5\",onClick:this.end.bind(this),children:\"End Game\"})]})]})})})}}]),a}(i.a.Component),T=N;var M=function(){return Object(s.jsx)(r.a,{children:Object(s.jsxs)(l.d,{children:[Object(s.jsx)(l.b,{path:\"/\",exact:!0,children:Object(s.jsx)(g,{})}),Object(s.jsx)(l.b,{path:\"/game/:id\",exact:!0,children:Object(s.jsx)(T,{})}),Object(s.jsx)(l.a,{to:\"/\"})]})})};o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(M,{})}),document.getElementById(\"root\"))},35:function(t,e,a){},62:function(t,e,a){},97:function(t,e,a){}},[[102,1,2]]]);","name":"static/js/main.7c27cc53.chunk.js","map":{"version":3,"sources":["static/js/main.7c27cc53.chunk.js"],"names":["this","push","102","module","__webpack_exports__","__webpack_require__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","regenerator","regenerator_default","asyncToGenerator","classCallCheck","createClass","inherits","createSuper","MainPage_MainPage","_React$Component","Object","MainPage","_super","props","_this","call","state","games","findedGames","modal","key","value","updateGames","localStorage","getItem","setItem","concat","Date","toString","i","name","_updateGames","a","mark","_callee","res","_this2","wrap","_context","prev","next","fetch","method","sent","json","map","e","MainPage_Game","getName","bind","players","playersCount","number","status","tags","forceUpdate","stop","apply","arguments","setState","clear","className","children","MainPage_TagsFinder","func","hideGames","flag","scope","onClick","showModal","MainPage_Modal","fade","hide","hideModal","Component","_React$Component2","Game","_super2","window","location","href","style","cursor","connectToGame","_React$Component3","TagsFinder","_super3","text","target","split","result","length","da","j","k","width","minWidth","placeholder","autocomplete","onInput","find","_React$Component4","Modal","_super4","_this3","_createGame","_callee2","game","_context2","x","o","score","turn","continue","body","JSON","stringify","headers","Content-Type","t0","console","t1","log","id","display","aria-label","type","changeHandler","updateTags","createGame","src_MainPage","build","build_default","socket","GamePage_GamePage","GamePage","winner","team","room","y","win","on","emit","data","checkWin","showWin","draw","prop","Fragment","GamePage_Info","GamePage_GameBoard","set","Info","color","String","GameBoard","canvas","document","getElementById","parentNode","offsetWidth","height","ctx","getContext","drawBoard","size","fillStyle","fillRect","drawState","strokeStyle","lineWidth","beginPath","arc","Math","PI","stroke","moveTo","lineTo","_this4","clearBoard","drawCross","drawZero","clientX","offsetLeft","clientY","offsetTop","makeStep","GamePage_Modal","toUpperCase","end","src_GamePage_0","src_App","path","exact","to","render","StrictMode","35","exports","62","97"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(53);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(62);\n\n// EXTERNAL MODULE: ../node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(55);\n\n// EXTERNAL MODULE: ../node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(20);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 5 modules\nvar createSuper = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./src/MainPage.js\nvar MainPage_MainPage=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(MainPage,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(MainPage);function MainPage(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,MainPage);_this=_super.call(this,props);_this.state={games:[],findedGames:[],modal:\"modal fade\"};return _this;}Object(createClass[\"a\" /* default */])(MainPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateGames();if(!localStorage.getItem(\"id\")){localStorage.setItem(\"id\",\"f\".concat((+new Date()).toString(16)));}}},{key:\"getName\",value:function getName(i){return this.state.games[i].props.name;}},{key:\"updateGames\",value:function(){var _updateGames=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var _this2=this;var res,games;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/getGames\",{method:\"POST\"});case 2:res=_context.sent;_context.next=5;return res.json();case 5:games=_context.sent;this.state.games=[];this.state.findedGames=[];games.map(function(e,i){_this2.state.games.push(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainPage_Game,{getName:_this2.getName.bind(_this2),name:e.name,players:e.playersCount,number:i+1,status:e.status,tags:e.tags},i));_this2.state.findedGames.push(_this2.state.games[i]);});this.forceUpdate();case 10:case\"end\":return _context.stop();}}},_callee,this);}));function updateGames(){return _updateGames.apply(this,arguments);}return updateGames;}()},{key:\"showModal\",value:function showModal(){this.setState({modal:\"modal fade show\"});}},{key:\"hideModal\",value:function hideModal(){this.setState({modal:\"modal fade\"});}},{key:\"hideGames\",value:function hideGames(games){this.setState({findedGames:games});}},{key:\"clearCookie\",value:function clearCookie(){localStorage.clear();}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainPage_TagsFinder,{games:this.state.games,func:this.hideGames.bind(this),flag:\"findTags\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"table table-dark table-striped\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{scope:\"col\",children:\"Players\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{scope:\"col\",children:\"Status\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:this.state.findedGames})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"form-row text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-outline-success\",onClick:this.showModal.bind(this),children:\"+Create New Game\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainPage_Modal,{fade:this.state.modal,hide:this.hideModal.bind(this)})]});}}]);return MainPage;}(react_default.a.Component);var MainPage_Game=/*#__PURE__*/function(_React$Component2){Object(inherits[\"a\" /* default */])(Game,_React$Component2);var _super2=Object(createSuper[\"a\" /* default */])(Game);function Game(props){Object(classCallCheck[\"a\" /* default */])(this,Game);return _super2.call(this,props);}Object(createClass[\"a\" /* default */])(Game,[{key:\"connectToGame\",value:function connectToGame(e){window.location.href=\"/game/\"+this.props.getName(this.props.number-1);}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{style:{cursor:'pointer'},onClick:this.connectToGame.bind(this),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{scope:\"row\",children:this.props.number}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:this.props.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:this.props.players+\"/2\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:this.props.status})]});}}]);return Game;}(react_default.a.Component);var MainPage_TagsFinder=/*#__PURE__*/function(_React$Component3){Object(inherits[\"a\" /* default */])(TagsFinder,_React$Component3);var _super3=Object(createSuper[\"a\" /* default */])(TagsFinder);function TagsFinder(props){Object(classCallCheck[\"a\" /* default */])(this,TagsFinder);return _super3.call(this,props);}Object(createClass[\"a\" /* default */])(TagsFinder,[{key:\"find\",value:function find(e){var text=e.target.value.split(\" \");if(this.props.flag===\"findTags\"){var result=[];var games=this.props.games;for(var i=0;i<games.length;i++){var da=false;for(var j=0;j<games[i].props.tags.length;j++){for(var k=0;k<text.length;k++){if(text[k]===games[i].props.tags[j])da=true;}}if(da)result.push(games[i]);}if(e.target.value===\"\")this.props.func(games);else this.props.func(result);}else if(this.props.flag===\"setTags\"){this.props.func(text);}}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control mb-2 mt-2\",style:{width:'30%',minWidth:'120px'},placeholder:\"Type tags...\",autocomplete:\"on\",onInput:this.find.bind(this)});}}]);return TagsFinder;}(react_default.a.Component);var MainPage_Modal=/*#__PURE__*/function(_React$Component4){Object(inherits[\"a\" /* default */])(Modal,_React$Component4);var _super4=Object(createSuper[\"a\" /* default */])(Modal);function Modal(props){var _this3;Object(classCallCheck[\"a\" /* default */])(this,Modal);_this3=_super4.call(this,props);_this3.state={name:\"\",tags:[]};return _this3;}Object(createClass[\"a\" /* default */])(Modal,[{key:\"changeHandler\",value:function changeHandler(e){this.state.name=e.target.value;}},{key:\"updateTags\",value:function updateTags(tags){this.setState({tags:tags});}},{key:\"createGame\",value:function(){var _createGame=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var game,res;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:game={name:this.state.name,playersCount:\"0\",players:{x:\"\",o:\"\"},score:[0,0],status:\"waiting\",turn:\"x\",state:[[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"]],continue:[],tags:this.state.tags};_context2.next=3;return fetch('/api/createGame',{method:\"POST\",body:JSON.stringify(game),headers:{'Content-Type':'application/json'}});case 3:res=_context2.sent;_context2.t0=console;_context2.next=7;return res.json();case 7:_context2.t1=_context2.sent;_context2.t0.log.call(_context2.t0,_context2.t1);window.location.href=\"/game/\"+game.name;case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function createGame(){return _createGame.apply(this,arguments);}return createGame;}()},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:this.props.fade,id:\"exampleModal\",style:{display:this.props.fade===\"modal fade\"?\"none\":\"block\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Create New Game\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-close\",\"aria-label\":\"Close\",onClick:this.props.hide})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"game's name\",onInput:this.changeHandler.bind(this)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainPage_TagsFinder,{games:[],func:this.updateTags.bind(this),flag:\"setTags\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"form-row text-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary mb-2\",onClick:this.createGame.bind(this),children:\"Create Game\"})})]})})});}}]);return Modal;}(react_default.a.Component);/* harmony default export */ var src_MainPage = (MainPage_MainPage);\n// EXTERNAL MODULE: ../node_modules/socket.io-client/build/index.js\nvar build = __webpack_require__(54);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// EXTERNAL MODULE: ./src/GamePage.css\nvar src_GamePage = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./src/GamePage.js\nvar socket=build_default()('http://localhost:3000');var GamePage_GamePage=/*#__PURE__*/function(_React$Component){Object(inherits[\"a\" /* default */])(GamePage,_React$Component);var _super=Object(createSuper[\"a\" /* default */])(GamePage);function GamePage(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,GamePage);_this=_super.call(this,props);_this.state={state:[[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"]],playersCount:0,turn:\"x\",winner:\"no\",status:\"waiting\",modal:\"modal fade\",team:\"\",room:window.location.href.split(\"/\")[4],score:[0,0],players:{x:\"\",y:\"\"}};return _this;}Object(createClass[\"a\" /* default */])(GamePage,[{key:\"showWin\",value:function showWin(win){this.setState({winner:win.team,modal:\"modal fade show\"});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;socket.on(\"redirectOnMain\",function(){return window.location.href=\"/\";});socket.emit(\"connectPlayer\",{room:this.state.room,id:localStorage.getItem(\"id\")});socket.on(\"updateClient\",function(data){_this2.setState({state:data.state,turn:data.turn,status:data.status,playersCount:data.playersCount,players:data.players,score:data.score,team:data.players.x===localStorage.getItem(\"id\")?\"x\":\"o\",modal:\"modal fade\",winner:\"no\"});console.log(_this2.state);var win=_this2.checkWin();if(win)_this2.showWin(win);});socket.on(\"setCookie\",function(data){fetch(\"/api/setCookie\",{method:\"POST\",body:JSON.stringify(data),headers:{'Content-Type':'application/json'}});});}},{key:\"checkWin\",value:function checkWin(){var state=this.state.state;var draw=true;var res;state[0].map(function(e,i){if(e===\"-\"||state[1][i]===\"-\"||state[2][i]===\"-\")draw=false;else if(e===state[1][i]&&e===state[2][i]){res={win:[[0,i],[1,i],[2,i]],team:e};}});state.map(function(e,i){if(e[0]===\"-\"||e[1]===\"-\"||e[2]===\"-\")draw=false;else if(e[0]===e[1]&&e[0]===e[2]){res={win:[[i,0],[i,1],[i,2]],team:e[0]};}});if(draw)return{team:\"draw\"};if(state[0][0]===state[1][1]&&state[1][1]===state[2][2]&&state[0][0]!=\"-\"){return{win:[[0,0],[1,1],[2,2]],team:state[0][0]};}if(state[0][2]===state[1][1]&&state[1][1]===state[2][0]&&state[0][2]!=\"-\"){return{win:[[0,2],[1,1],[2,0]],team:state[0][2]};}if(res)return res;else return false;}},{key:\"set\",value:function set(x,y){if(this.state.state[y][x]===\"-\"&&this.state.turn===this.state.team){this.state.state[y][x]=this.state.team;this.state.turn=this.state.turn===\"x\"?\"o\":\"x\";socket.emit(\"updateGame\",{prop:\"state\",value:this.state.state,room:this.state.room});socket.emit(\"updateGame\",{prop:\"turn\",value:this.state.turn,room:this.state.room});//this.forceUpdate()\n}else return;}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_default.a.Fragment,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GamePage_Info,{turn:this.state.turn,team:this.state.team,status:this.state.status,score:this.state.score}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GamePage_GameBoard,{state:this.state.state,set:this.set.bind(this),modal:this.state.modal,winner:this.state.winner,status:this.state.status})]});}}]);return GamePage;}(react_default.a.Component);var GamePage_Info=/*#__PURE__*/function(_React$Component2){Object(inherits[\"a\" /* default */])(Info,_React$Component2);var _super2=Object(createSuper[\"a\" /* default */])(Info);function Info(props){Object(classCallCheck[\"a\" /* default */])(this,Info);return _super2.call(this,props);}Object(createClass[\"a\" /* default */])(Info,[{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"team\",children:\"YOUR TEAM: \"+this.props.team}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"status\",style:{color:this.props.status===\"waiting\"?\"yellow\":\"green\"},children:this.props.status}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"score\",children:\"X: \"+String(this.props.score[0])+\" : \"+String(this.props.score[1])+\" :O\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"turn\",style:{color:this.props.turn===\"x\"?\"red\":\"blue\"},children:\"TURN: \"+this.props.turn})]});}}]);return Info;}(react_default.a.Component);var GamePage_GameBoard=/*#__PURE__*/function(_React$Component3){Object(inherits[\"a\" /* default */])(GameBoard,_React$Component3);var _super3=Object(createSuper[\"a\" /* default */])(GameBoard);function GameBoard(props){var _this3;Object(classCallCheck[\"a\" /* default */])(this,GameBoard);_this3=_super3.call(this,props);_this3.state={canvas:null};return _this3;}Object(createClass[\"a\" /* default */])(GameBoard,[{key:\"componentDidMount\",value:function componentDidMount(){var canvas=document.getElementById(\"canvas\");canvas.width=canvas.parentNode.offsetWidth;canvas.height=canvas.width;this.state.canvas=canvas;this.state.ctx=canvas.getContext(\"2d\");this.drawBoard();}},{key:\"drawBoard\",value:function drawBoard(){var size=this.state.canvas.width;this.state.ctx.fillStyle=\"black\";this.state.ctx.fillRect(size/3,0,2,size);this.state.ctx.fillRect(2*size/3,0,2,size);this.state.ctx.fillRect(0,size/3,size,2);this.state.ctx.fillRect(0,2*size/3,size,2);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.drawState();}},{key:\"drawZero\",value:function drawZero(x,y){var size=this.state.canvas.width;this.state.ctx.strokeStyle=\"blue\";this.state.ctx.lineWidth=4;this.state.ctx.beginPath();this.state.ctx.arc(x*size/3+size/6,//x\ny*size/3+size/6,//y\nsize/6-size/24,//radius\n0,//start\nMath.PI*2);// end\nthis.state.ctx.stroke();}},{key:\"drawCross\",value:function drawCross(x,y){var size=this.state.canvas.width;this.state.ctx.strokeStyle=\"red\";this.state.ctx.lineWidth=4;this.state.ctx.beginPath();this.state.ctx.moveTo(x*size/3+size/24,y*size/3+size/24);this.state.ctx.lineTo(x*size/3+size/3-size/24,y*size/3+size/3-size/24);this.state.ctx.moveTo(x*size/3+size/3-size/24,y*size/3+size/24);this.state.ctx.lineTo(x*size/3+size/24,y*size/3+size/3-size/24);this.state.ctx.stroke();}},{key:\"clearBoard\",value:function clearBoard(){this.state.canvas.width=this.state.canvas.width;}},{key:\"drawState\",value:function drawState(){var _this4=this;this.clearBoard();this.drawBoard();this.props.state.map(function(e,i){for(var j=0;j<e.length;j++){if(e[j]==\"-\")continue;else if(e[j]==\"x\")_this4.drawCross(j,i);else if(e[j]==\"o\")_this4.drawZero(j,i);}});console.log(this.props.state);}},{key:\"makeStep\",value:function makeStep(e){var size=this.state.canvas.offsetWidth;var x=e.clientX-e.target.offsetLeft;var y=e.clientY-e.target.offsetTop;console.log(x,y);if(x>=0&&x<=size/3)x=0;else if(x>size/3&&x<=2*size/3)x=1;else x=2;if(y>=0&&y<=size/3)y=0;else if(y>size/3&&y<=2*size/3)y=1;else y=2;if(this.props.winner===\"no\"&&this.props.status!==\"waiting\")this.props.set(x,y);}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"canvas\",{id:\"canvas\",onClick:this.makeStep.bind(this)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GamePage_Modal,{winner:this.props.winner,fade:this.props.modal})]});}}]);return GameBoard;}(react_default.a.Component);var GamePage_Modal=/*#__PURE__*/function(_React$Component4){Object(inherits[\"a\" /* default */])(Modal,_React$Component4);var _super4=Object(createSuper[\"a\" /* default */])(Modal);function Modal(props){Object(classCallCheck[\"a\" /* default */])(this,Modal);return _super4.call(this,props);}Object(createClass[\"a\" /* default */])(Modal,[{key:\"end\",value:function end(){socket.emit(\"deleteGame\",window.location.href.split(\"/\")[4]);}},{key:\"continue\",value:function _continue(){socket.emit(\"addContinue\",{room:window.location.href.split(\"/\")[4],id:localStorage.getItem(\"id\"),winner:this.props.winner});}},{key:\"render\",value:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:this.props.fade,id:\"exampleModal\",style:{display:this.props.fade===\"modal fade\"?\"none\":\"block\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Game Info\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Winner: \",this.props.winner.toUpperCase()]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-row text-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-success mb-2\",onClick:this.continue.bind(this),children:\"Continue Game\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-danger mb-2 ml-5\",onClick:this.end.bind(this),children:\"End Game\"})]})]})})});}}]);return Modal;}(react_default.a.Component);/* harmony default export */ var src_GamePage_0 = (GamePage_GamePage);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/\",exact:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_MainPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/game/:id\",exact:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_GamePage_0,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[102,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:/Users/suzuya/Desktop/iTrasnsit/5/client/src/MainPage.js","C:/Users/suzuya/Desktop/iTrasnsit/5/client/src/GamePage.js","C:/Users/suzuya/Desktop/iTrasnsit/5/client/src/App.js","C:/Users/suzuya/Desktop/iTrasnsit/5/client/src/index.js","C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\src\\bootstrap.min.css","C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\src\\index.css","C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\suzuya\\Desktop\\iTrasnsit\\5\\client\\src\\GamePage.css"],"names":["MainPage","props","state","games","findedGames","modal","updateGames","localStorage","getItem","setItem","Date","toString","i","name","fetch","method","res","json","map","e","push","getName","bind","playersCount","status","tags","forceUpdate","setState","clear","hideGames","showModal","hideModal","React","Component","Game","window","location","href","number","cursor","connectToGame","players","TagsFinder","text","target","value","split","flag","result","length","da","j","k","func","width","minWidth","find","Modal","game","x","o","score","turn","continue","body","JSON","stringify","headers","console","log","fade","display","hide","changeHandler","updateTags","createGame","socket","openSocket","GamePage","winner","team","room","y","win","on","emit","id","data","checkWin","showWin","draw","prop","set","Info","color","String","GameBoard","canvas","document","getElementById","parentNode","offsetWidth","height","ctx","getContext","drawBoard","size","fillStyle","fillRect","drawState","strokeStyle","lineWidth","beginPath","arc","Math","PI","stroke","moveTo","lineTo","clearBoard","drawCross","drawZero","clientX","offsetLeft","clientY","offsetTop","makeStep","toUpperCase","end","App","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["import React from 'react'\r\nimport './bootstrap.min.css'\r\n\r\nclass MainPage extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tgames: [],\r\n\t\t\tfindedGames: [],\r\n\t\t\tmodal: \"modal fade\"\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.updateGames()\r\n\t\tif (!localStorage.getItem(\"id\")){\r\n\t\t\tlocalStorage.setItem(\"id\", `f${(+new Date).toString(16)}`)\r\n\t\t}\r\n\t}\r\n\tgetName(i) {\r\n\t\treturn this.state.games[i].props.name\r\n\t}\r\n\tasync updateGames() {\r\n\t\tlet res = await fetch(\"/api/getGames\", { method: \"POST\" })\r\n\t\tlet games = await res.json()\r\n\t\tthis.state.games = []\r\n\t\tthis.state.findedGames = []\r\n\t\tgames.map((e, i) => {\r\n\t\t\tthis.state.games.push(<Game key={i} getName={this.getName.bind(this)}\r\n\t\t\t\t\t\t\t\t\tname={e.name} players={e.playersCount} \r\n\t\t\t\t\t\t\t\t\tnumber={i + 1} status={e.status} tags = {e.tags} />)\r\n\t\t\tthis.state.findedGames.push(this.state.games[i])\r\n\t\t})\r\n\t\tthis.forceUpdate()\r\n\t}\r\n\tshowModal() {\r\n\t\tthis.setState({ modal: \"modal fade show\" })\r\n\t}\r\n\thideModal() {\r\n\t\tthis.setState({ modal: \"modal fade\" })\r\n\t}\r\n\thideGames(games) {\r\n\t\tthis.setState({ findedGames: games })\r\n\t}\r\n\tclearCookie() {\r\n\t\tlocalStorage.clear()\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<TagsFinder games={this.state.games} func={this.hideGames.bind(this)} flag={\"findTags\"} />\r\n\t\t\t\t<table className=\"table table-dark table-striped\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t    \t<tr>\r\n\t\t\t\t      \t\t<th scope=\"col\">#</th>\r\n\t\t\t\t      \t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t      \t\t<th scope=\"col\">Players</th>\r\n\t\t\t\t      \t\t<th scope=\"col\">Status</th>\r\n\t\t\t\t    \t</tr>\r\n\t\t\t\t  \t</thead>\r\n\t\t\t\t  \t<tbody>\r\n\t\t\t\t \t\t{this.state.findedGames}\r\n\t\t\t\t  \t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t<div className=\"form-row text-center\">\r\n\t    \t\t\t<button className=\"btn btn-outline-success\" onClick={this.showModal.bind(this)}>+Create New Game</button>\r\n\t \t\t\t</div>\r\n\t \t\t\t<Modal fade={this.state.modal} hide={this.hideModal.bind(this)} />\r\n\t \t\t\t{/*<button className=\"btn btn-primary\" onClick={this.clearCookie}>Clear Cookie</button>*/}\r\n \t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Game extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\tconnectToGame(e) {\r\n\t\twindow.location.href = \"/game/\" + this.props.getName(this.props.number - 1)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<tr style={{ cursor: 'pointer' }} onClick={this.connectToGame.bind(this)}>\r\n\t\t\t   \t<th scope=\"row\">{this.props.number}</th>\r\n\t\t\t    <td>{this.props.name}</td>\r\n\t\t\t    <td>{this.props.players + \"/2\"}</td>\r\n\t\t\t    <td>{this.props.status}</td>\r\n\t\t\t</tr>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass TagsFinder extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\tfind(e) {\r\n\t\tlet text = e.target.value.split(\" \")\r\n\t\tif (this.props.flag === \"findTags\") {\r\n\t\t\tlet result = []\r\n\t\t\tlet games = this.props.games\r\n\t\t\tfor (let i = 0 ; i < games.length; i++) {\r\n\t\t\t\tlet da = false\r\n\t\t\t\tfor (let j = 0; j < games[i].props.tags.length; j++) {\r\n\t\t\t\t\tfor (let k = 0; k < text.length; k++) if (text[k] === games[i].props.tags[j]) da = true\r\n\t\t\t\t}\r\n\t\t\t\tif (da) result.push(games[i])\r\n\t\t\t}\r\n\t\tif (e.target.value === \"\") this.props.func(games)\r\n\t\telse this.props.func(result)\r\n\t\t}\r\n\t\telse if (this.props.flag === \"setTags\") {\r\n\t\t\tthis.props.func(text)\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn ( <input \tclassName=\"form-control mb-2 mt-2\" \r\n\t\t\t\t\t\tstyle={{ width: '30%', minWidth: '120px'}} \r\n\t\t\t\t\t\tplaceholder=\"Type tags...\" autocomplete=\"on\" onInput={this.find.bind(this)} /> )\r\n\t}\r\n}\r\n\r\nclass Modal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tname: \"\",\r\n\t\t\ttags: []\r\n\t\t}\r\n\t}\r\n\tchangeHandler(e) {\r\n\t\tthis.state.name = e.target.value\r\n\t}\r\n\tupdateTags(tags) {\r\n\t\tthis.setState({ tags: tags })\r\n\t}\r\n\tasync createGame() {\r\n\t\tconst game = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tplayersCount: \"0\",\r\n\t\t\tplayers: { x: \"\", o: \"\"},\r\n\t\t\tscore: [0, 0],\r\n\t\t\tstatus: \"waiting\",\r\n\t\t\tturn: \"x\",\r\n\t\t\tstate: [\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"]\r\n\t\t\t],\r\n\t\t\tcontinue: [],\r\n\t\t\ttags: this.state.tags\r\n\t\t}\r\n\t\tlet res = await fetch('/api/createGame', {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(game),\r\n\t\t\theaders: {'Content-Type': 'application/json'}\r\n\t\t})\r\n\t\tconsole.log(await res.json())\r\n\t\twindow.location.href = \"/game/\" + game.name\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.fade} id=\"exampleModal\" style={{ display: this.props.fade === \"modal fade\" ? \"none\" : \"block\"}}> \r\n  \t\t\t\t<div className=\"modal-dialog\">\r\n    \t\t\t\t<div className=\"modal-content\">\r\n      \t\t\t\t\t<div className=\"modal-header\">\r\n        \t\t\t\t\t<h5 className=\"modal-title\" id=\"exampleModalLabel\">Create New Game</h5>\r\n        \t\t\t\t\t<button className=\"btn-close\" aria-label=\"Close\" onClick={this.props.hide}></button>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"modal-body\">\r\n      \t\t\t\t\t\t<label>Name:</label>\r\n        \t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"game's name\" onInput={this.changeHandler.bind(this)} />\r\n        \t\t\t\t\t<TagsFinder games={[]} func={this.updateTags.bind(this)} flag={\"setTags\"}/>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"form-row text-center\">\r\n        \t\t\t\t\t<button className=\"btn btn-primary mb-2\" onClick={this.createGame.bind(this)}>Create Game</button>\r\n      \t\t\t\t\t</div>\r\n    \t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default MainPage","import React from 'react'\r\nimport openSocket from 'socket.io-client';\r\nimport './GamePage.css'\r\nimport './bootstrap.min.css'\r\n\r\nconst socket = openSocket('http://localhost:3000')\r\n\r\n\r\nclass GamePage extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tstate: [\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"]\r\n\t\t\t],\r\n\t\t\tplayersCount: 0,\r\n\t\t\tturn: \"x\",\r\n\t\t\twinner: \"no\",\r\n\t\t\tstatus: \"waiting\",\r\n\t\t\tmodal: \"modal fade\",\r\n\t\t\tteam: \"\",\r\n\t\t\troom: window.location.href.split(\"/\")[4],\r\n\t\t\tscore: [0, 0],\r\n\t\t\tplayers: { x: \"\", y: \"\"}\r\n\t\t} \r\n\t}\r\n\tshowWin(win) {\r\n\t\tthis.setState({ winner: win.team, modal: \"modal fade show\" })\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tsocket.on(\"redirectOnMain\", () => window.location.href = \"/\")\r\n\t\tsocket.emit(\"connectPlayer\", { room: this.state.room, id: localStorage.getItem(\"id\") })\r\n\t\tsocket.on(\"updateClient\", (data) => { \r\n\t\t\tthis.setState({ state: data.state, turn: data.turn, status: data.status,\r\n\t\t\t \t\t\t\tplayersCount: data.playersCount, players: data.players, score: data.score,\r\n\t\t\t \t\t\t\tteam: data.players.x ===  localStorage.getItem(\"id\") ? \"x\" : \"o\" , modal: \"modal fade\", winner: \"no\"})\r\n\t\t\tconsole.log(this.state)\r\n\t\t\tlet win = this.checkWin()\r\n\t\t\tif (win) this.showWin(win)\r\n\t\t})\r\n\t\tsocket.on(\"setCookie\", (data) => {\r\n\t\t\tfetch(\"/api/setCookie\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: {'Content-Type': 'application/json'}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tcheckWin() {\r\n\t\tlet state = this.state.state\r\n\t\tlet draw = true\r\n\t\tlet res\r\n\t\tstate[0].map((e, i) => {\r\n\t\t\tif (e === \"-\" || state[1][i] === \"-\" || state[2][i] === \"-\") draw = false\r\n\t\t\telse if (e === state[1][i] && e === state[2][i]) {\r\n\t\t\t\tres = { win: [[0, i], [1, i], [2, i]], team: e }\r\n\t\t\t}\r\n\t\t})\r\n\t\tstate.map((e, i) => {\r\n\t\t\tif (e[0] === \"-\" || e[1] === \"-\" || e[2] === \"-\") draw = false\r\n\t\t\telse if (e[0] === e[1] && e[0] === e[2]) {\r\n\t\t\t\tres = { win: [[i, 0], [i, 1], [i, 2]], team: e[0] }\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (draw) return { team: \"draw\" }\r\n\t\tif (state[0][0] === state[1][1] && state[1][1] === state[2][2] && state[0][0] != \"-\") {\r\n\t\t\treturn { win: [[0, 0], [1, 1], [2, 2]], team: state[0][0] }\r\n\t\t}\r\n\t\tif (state[0][2] === state[1][1] && state[1][1] === state[2][0] && state[0][2] != \"-\") {\r\n\t\t\treturn { win: [[0, 2], [1, 1], [2, 0]], team: state[0][2] }\r\n\t\t}\r\n\t\tif (res) return res\r\n\t\telse return false\r\n\t}\r\n\tset(x, y) {\r\n\t\tif (this.state.state[y][x] === \"-\" && this.state.turn === this.state.team) {\r\n\t\t\tthis.state.state[y][x] = this.state.team\r\n\t\t\tthis.state.turn = this.state.turn === \"x\" ? \"o\" : \"x\"\r\n\t\t\tsocket.emit(\"updateGame\", { prop: \"state\", value: this.state.state, room: this.state.room })\r\n\t\t\tsocket.emit(\"updateGame\", { prop: \"turn\", value: this.state.turn, room: this.state.room })\r\n\t\t\t//this.forceUpdate()\r\n\t\t}\r\n\t\telse return\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Info turn={this.state.turn} team={this.state.team} status={this.state.status} score={this.state.score} />\r\n\t\t\t\t<GameBoard \tstate={this.state.state} set={this.set.bind(this)}\r\n\t\t\t\t\t\t \tmodal={this.state.modal} winner={this.state.winner} status={this.state.status} />\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Info extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t<div className=\"team\">{\"YOUR TEAM: \" + this.props.team}</div>\r\n\t\t\t\t<div className=\"status\" style={{ color: this.props.status === \"waiting\" ? \"yellow\" : \"green\"}}>{this.props.status}</div>\r\n\t\t\t\t<div className=\"score\">{\"X: \" + String(this.props.score[0]) + \" : \" + String(this.props.score[1]) + \" :O\"}</div>\r\n\t\t\t\t<div className=\"turn\" style={{ color: this.props.turn === \"x\" ? \"red\" : \"blue\"}}>{\"TURN: \" + this.props.turn}</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass GameBoard extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcanvas: null,\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tlet canvas = document.getElementById(\"canvas\")\r\n\t\tcanvas.width = canvas.parentNode.offsetWidth\r\n\t\tcanvas.height = canvas.width\r\n\t\tthis.state.canvas = canvas\r\n\t\tthis.state.ctx = canvas.getContext(\"2d\")\r\n\t\tthis.drawBoard()\r\n\t}\r\n\tdrawBoard() {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.fillStyle = \"black\"\r\n\t\tthis.state.ctx.fillRect(size / 3, 0, 2, size)\r\n\t\tthis.state.ctx.fillRect(2 * size / 3, 0, 2, size)\r\n\t\tthis.state.ctx.fillRect(0, size / 3, size, 2)\r\n\t\tthis.state.ctx.fillRect(0, 2 * size / 3, size, 2)\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tthis.drawState()\r\n\t}\r\n\tdrawZero(x, y) {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.strokeStyle = \"blue\"\r\n\t\tthis.state.ctx.lineWidth = 4\r\n\t\tthis.state.ctx.beginPath()\r\n\t\tthis.state.ctx.arc(x * size / 3 + size / 6, //x\r\n\t\t\t\ty * size / 3 + size / 6, //y\r\n\t\t\t\tsize / 6 - size / 24, //radius\r\n\t\t\t\t0, //start\r\n\t\t\t\tMath.PI * 2) // end\r\n\t\tthis.state.ctx.stroke()\r\n\t}\r\n\tdrawCross(x, y) {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.strokeStyle = \"red\"\r\n\t\tthis.state.ctx.lineWidth = 4\r\n\t\tthis.state.ctx.beginPath()\r\n\t\tthis.state.ctx.moveTo(x * size / 3 + size / 24, y * size / 3 + size / 24)\r\n\t\tthis.state.ctx.lineTo(x * size / 3 + size / 3 - size / 24, y * size / 3 + size / 3 - size / 24)\r\n\t\tthis.state.ctx.moveTo(x * size / 3 + size / 3 - size / 24, y * size / 3 + size / 24)\r\n\t\tthis.state.ctx.lineTo(x * size / 3 + size / 24, y * size / 3 + size / 3 - size / 24)\r\n\t\tthis.state.ctx.stroke()\r\n\t}\r\n\tclearBoard() {\r\n\t\tthis.state.canvas.width = this.state.canvas.width\r\n\t}\r\n\tdrawState() {\r\n\t\tthis.clearBoard()\r\n\t\tthis.drawBoard()\r\n\t\tthis.props.state.map((e, i) => {\r\n\t\t\tfor (let j = 0; j < e.length; j++) {\r\n\t\t\t\tif (e[j] == \"-\") continue\r\n\t\t\t\telse if (e[j] == \"x\") this.drawCross(j, i)\r\n\t\t\t\telse if (e[j] == \"o\") this.drawZero(j, i)\r\n\t\t\t}\r\n\t\t})\r\n\t\tconsole.log(this.props.state)\r\n\t}\r\n\t\r\n\t\r\n\tmakeStep(e) {\r\n\t\tconst size = this.state.canvas.offsetWidth\r\n\t\tlet x = e.clientX - e.target.offsetLeft\r\n\t\tlet y = e.clientY - e.target.offsetTop\r\n\t\tconsole.log(x, y)\r\n\t\tif (x >= 0 && x <= size / 3) x = 0\r\n\t\telse if (x > size / 3 && x <= 2 * size / 3) x = 1\r\n\t\telse x = 2\r\n\t\tif (y >= 0 && y <= size / 3) y = 0\r\n\t\telse if (y > size / 3 && y <= 2 * size / 3) y = 1\r\n\t\telse y = 2\r\n\t\tif (this.props.winner === \"no\" && this.props.status !== \"waiting\") this.props.set(x, y)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container text-center\">\r\n\t\t\t\t<canvas id=\"canvas\" onClick={this.makeStep.bind(this)}></canvas>\r\n\t\t\t\t<Modal winner={this.props.winner} fade={this.props.modal}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Modal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\tend() {\r\n\t\tsocket.emit(\"deleteGame\", window.location.href.split(\"/\")[4])\r\n\t}\r\n\tcontinue() {\r\n\t\tsocket.emit(\"addContinue\", { room: window.location.href.split(\"/\")[4], id: localStorage.getItem(\"id\"), winner: this.props.winner })\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.fade} id=\"exampleModal\" style={{ display: this.props.fade === \"modal fade\" ? \"none\" : \"block\"}}> \r\n  \t\t\t\t<div className=\"modal-dialog\">\r\n    \t\t\t\t<div className=\"modal-content\">\r\n      \t\t\t\t\t<div className=\"modal-header\">\r\n        \t\t\t\t\t<h5 className=\"modal-title\" id=\"exampleModalLabel\">Game Info</h5>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"modal-body\">\r\n      \t\t\t\t\t\t<div>Winner: {this.props.winner.toUpperCase()}</div>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"form-row text-center\">\r\n        \t\t\t\t\t<button className=\"btn btn-success mb-2\" onClick={this.continue.bind(this)}>Continue Game</button>\r\n        \t\t\t\t\t<button className=\"btn btn-danger mb-2 ml-5\" onClick={this.end.bind(this)}>End Game</button>\r\n      \t\t\t\t\t</div>\r\n    \t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default GamePage","import { Switch, Route, Redirect, BrowserRouter } from 'react-router-dom'\nimport MainPage from './MainPage.js'\nimport GamePage from './GamePage.js'\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact><MainPage /></Route>\n        <Route path=\"/game/:id\" exact><GamePage /></Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}