{"ast":null,"code":"import _classCallCheck from\"C:/Users/suzuya/Desktop/iTrasnsit/5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/suzuya/Desktop/iTrasnsit/5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/suzuya/Desktop/iTrasnsit/5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/suzuya/Desktop/iTrasnsit/5/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import openSocket from'socket.io-client';import'./GamePage.css';import'./bootstrap.min.css';var socket=openSocket('http://localhost:5000');var GamePage=/*#__PURE__*/function(_React$Component){_inherits(GamePage,_React$Component);var _super=_createSuper(GamePage);function GamePage(props){var _this;_classCallCheck(this,GamePage);_this=_super.call(this,props);_this.state={state:[[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"],[\"-\",\"-\",\"-\"]],playersCount:0,turn:\"x\",winner:\"no\",status:\"waiting\",modal:\"modal fade\",team:\"\",room:window.location.href.split(\"/\")[4],score:[0,0],players:{x:\"\",y:\"\"}};return _this;}_createClass(GamePage,[{key:\"showWin\",value:function showWin(win){this.setState({winner:win.team,modal:\"modal fade show\"});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;socket.on(\"redirectOnMain\",function(){return window.location.href=\"/\";});socket.emit(\"connectPlayer\",{room:this.state.room,id:localStorage.getItem(\"id\")});socket.on(\"updateClient\",function(data){_this2.setState({state:data.state,turn:data.turn,status:data.status,playersCount:data.playersCount,players:data.players,score:data.score,team:data.players.x===localStorage.getItem(\"id\")?\"x\":\"o\",modal:\"modal fade\",winner:\"no\"});console.log(_this2.state);var win=_this2.checkWin();if(win)_this2.showWin(win);});socket.on(\"setCookie\",function(data){fetch(\"/api/setCookie\",{method:\"POST\",body:JSON.stringify(data),headers:{'Content-Type':'application/json'}});});}},{key:\"checkWin\",value:function checkWin(){var state=this.state.state;var draw=true;var res;state[0].map(function(e,i){if(e===\"-\"||state[1][i]===\"-\"||state[2][i]===\"-\")draw=false;else if(e===state[1][i]&&e===state[2][i]){res={win:[[0,i],[1,i],[2,i]],team:e};}});state.map(function(e,i){if(e[0]===\"-\"||e[1]===\"-\"||e[2]===\"-\")draw=false;else if(e[0]===e[1]&&e[0]===e[2]){res={win:[[i,0],[i,1],[i,2]],team:e[0]};}});if(draw)return{team:\"draw\"};if(state[0][0]===state[1][1]&&state[1][1]===state[2][2]&&state[0][0]!=\"-\"){return{win:[[0,0],[1,1],[2,2]],team:state[0][0]};}if(state[0][2]===state[1][1]&&state[1][1]===state[2][0]&&state[0][2]!=\"-\"){return{win:[[0,2],[1,1],[2,0]],team:state[0][2]};}if(res)return res;else return false;}},{key:\"set\",value:function set(x,y){if(this.state.state[y][x]===\"-\"&&this.state.turn===this.state.team){this.state.state[y][x]=this.state.team;this.state.turn=this.state.turn===\"x\"?\"o\":\"x\";socket.emit(\"updateGame\",{prop:\"state\",value:this.state.state,room:this.state.room});socket.emit(\"updateGame\",{prop:\"turn\",value:this.state.turn,room:this.state.room});//this.forceUpdate()\n}else return;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Info,{turn:this.state.turn,team:this.state.team,status:this.state.status,score:this.state.score}),/*#__PURE__*/_jsx(GameBoard,{state:this.state.state,set:this.set.bind(this),modal:this.state.modal,winner:this.state.winner,status:this.state.status})]});}}]);return GamePage;}(React.Component);var Info=/*#__PURE__*/function(_React$Component2){_inherits(Info,_React$Component2);var _super2=_createSuper(Info);function Info(props){_classCallCheck(this,Info);return _super2.call(this,props);}_createClass(Info,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"team\",children:\"YOUR TEAM: \"+this.props.team}),/*#__PURE__*/_jsx(\"div\",{className:\"status\",style:{color:this.props.status===\"waiting\"?\"yellow\":\"green\"},children:this.props.status}),/*#__PURE__*/_jsx(\"div\",{className:\"score\",children:\"X: \"+String(this.props.score[0])+\" : \"+String(this.props.score[1])+\" :O\"}),/*#__PURE__*/_jsx(\"div\",{className:\"turn\",style:{color:this.props.turn===\"x\"?\"red\":\"blue\"},children:\"TURN: \"+this.props.turn})]});}}]);return Info;}(React.Component);var GameBoard=/*#__PURE__*/function(_React$Component3){_inherits(GameBoard,_React$Component3);var _super3=_createSuper(GameBoard);function GameBoard(props){var _this3;_classCallCheck(this,GameBoard);_this3=_super3.call(this,props);_this3.state={canvas:null};return _this3;}_createClass(GameBoard,[{key:\"componentDidMount\",value:function componentDidMount(){var canvas=document.getElementById(\"canvas\");canvas.width=canvas.parentNode.offsetWidth;canvas.height=canvas.width;this.state.canvas=canvas;this.state.ctx=canvas.getContext(\"2d\");this.drawBoard();}},{key:\"drawBoard\",value:function drawBoard(){var size=this.state.canvas.width;this.state.ctx.fillStyle=\"black\";this.state.ctx.fillRect(size/3,0,2,size);this.state.ctx.fillRect(2*size/3,0,2,size);this.state.ctx.fillRect(0,size/3,size,2);this.state.ctx.fillRect(0,2*size/3,size,2);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.drawState();}},{key:\"drawZero\",value:function drawZero(x,y){var size=this.state.canvas.width;this.state.ctx.strokeStyle=\"blue\";this.state.ctx.lineWidth=4;this.state.ctx.beginPath();this.state.ctx.arc(x*size/3+size/6,//x\ny*size/3+size/6,//y\nsize/6-size/24,//radius\n0,//start\nMath.PI*2);// end\nthis.state.ctx.stroke();}},{key:\"drawCross\",value:function drawCross(x,y){var size=this.state.canvas.width;this.state.ctx.strokeStyle=\"red\";this.state.ctx.lineWidth=4;this.state.ctx.beginPath();this.state.ctx.moveTo(x*size/3+size/24,y*size/3+size/24);this.state.ctx.lineTo(x*size/3+size/3-size/24,y*size/3+size/3-size/24);this.state.ctx.moveTo(x*size/3+size/3-size/24,y*size/3+size/24);this.state.ctx.lineTo(x*size/3+size/24,y*size/3+size/3-size/24);this.state.ctx.stroke();}},{key:\"clearBoard\",value:function clearBoard(){this.state.canvas.width=this.state.canvas.width;}},{key:\"drawState\",value:function drawState(){var _this4=this;this.clearBoard();this.drawBoard();this.props.state.map(function(e,i){for(var j=0;j<e.length;j++){if(e[j]==\"-\")continue;else if(e[j]==\"x\")_this4.drawCross(j,i);else if(e[j]==\"o\")_this4.drawZero(j,i);}});console.log(this.props.state);}},{key:\"makeStep\",value:function makeStep(e){var size=this.state.canvas.offsetWidth;var x=e.clientX-e.target.offsetLeft;var y=e.clientY-e.target.offsetTop;console.log(x,y);if(x>=0&&x<=size/3)x=0;else if(x>size/3&&x<=2*size/3)x=1;else x=2;if(y>=0&&y<=size/3)y=0;else if(y>size/3&&y<=2*size/3)y=1;else y=2;if(this.props.winner===\"no\"&&this.props.status!==\"waiting\")this.props.set(x,y);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/_jsx(\"canvas\",{id:\"canvas\",onClick:this.makeStep.bind(this)}),/*#__PURE__*/_jsx(Modal,{winner:this.props.winner,fade:this.props.modal})]});}}]);return GameBoard;}(React.Component);var Modal=/*#__PURE__*/function(_React$Component4){_inherits(Modal,_React$Component4);var _super4=_createSuper(Modal);function Modal(props){_classCallCheck(this,Modal);return _super4.call(this,props);}_createClass(Modal,[{key:\"end\",value:function end(){socket.emit(\"deleteGame\",window.location.href.split(\"/\")[4]);}},{key:\"continue\",value:function _continue(){socket.emit(\"addContinue\",{room:window.location.href.split(\"/\")[4],id:localStorage.getItem(\"id\"),winner:this.props.winner});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:this.props.fade,id:\"exampleModal\",style:{display:this.props.fade===\"modal fade\"?\"none\":\"block\"},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Game Info\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"div\",{children:[\"Winner: \",this.props.winner.toUpperCase()]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row text-center\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success mb-2\",onClick:this.continue.bind(this),children:\"Continue Game\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mb-2 ml-5\",onClick:this.end.bind(this),children:\"End Game\"})]})]})})});}}]);return Modal;}(React.Component);export default GamePage;","map":{"version":3,"sources":["C:/Users/suzuya/Desktop/iTrasnsit/5/client/src/GamePage.js"],"names":["React","openSocket","socket","GamePage","props","state","playersCount","turn","winner","status","modal","team","room","window","location","href","split","score","players","x","y","win","setState","on","emit","id","localStorage","getItem","data","console","log","checkWin","showWin","fetch","method","body","JSON","stringify","headers","draw","res","map","e","i","prop","value","set","bind","Component","Info","color","String","GameBoard","canvas","document","getElementById","width","parentNode","offsetWidth","height","ctx","getContext","drawBoard","size","fillStyle","fillRect","drawState","strokeStyle","lineWidth","beginPath","arc","Math","PI","stroke","moveTo","lineTo","clearBoard","j","length","drawCross","drawZero","clientX","target","offsetLeft","clientY","offsetTop","makeStep","Modal","fade","display","toUpperCase","continue","end"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport openSocket from 'socket.io-client';\r\nimport './GamePage.css'\r\nimport './bootstrap.min.css'\r\n\r\nconst socket = openSocket('http://localhost:5000')\r\n\r\n\r\nclass GamePage extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tstate: [\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"]\r\n\t\t\t],\r\n\t\t\tplayersCount: 0,\r\n\t\t\tturn: \"x\",\r\n\t\t\twinner: \"no\",\r\n\t\t\tstatus: \"waiting\",\r\n\t\t\tmodal: \"modal fade\",\r\n\t\t\tteam: \"\",\r\n\t\t\troom: window.location.href.split(\"/\")[4],\r\n\t\t\tscore: [0, 0],\r\n\t\t\tplayers: { x: \"\", y: \"\"}\r\n\t\t} \r\n\t}\r\n\tshowWin(win) {\r\n\t\tthis.setState({ winner: win.team, modal: \"modal fade show\" })\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tsocket.on(\"redirectOnMain\", () => window.location.href = \"/\")\r\n\t\tsocket.emit(\"connectPlayer\", { room: this.state.room, id: localStorage.getItem(\"id\") })\r\n\t\tsocket.on(\"updateClient\", (data) => { \r\n\t\t\tthis.setState({ state: data.state, turn: data.turn, status: data.status,\r\n\t\t\t \t\t\t\tplayersCount: data.playersCount, players: data.players, score: data.score,\r\n\t\t\t \t\t\t\tteam: data.players.x ===  localStorage.getItem(\"id\") ? \"x\" : \"o\" , modal: \"modal fade\", winner: \"no\"})\r\n\t\t\tconsole.log(this.state)\r\n\t\t\tlet win = this.checkWin()\r\n\t\t\tif (win) this.showWin(win)\r\n\t\t})\r\n\t\tsocket.on(\"setCookie\", (data) => {\r\n\t\t\tfetch(\"/api/setCookie\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: {'Content-Type': 'application/json'}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tcheckWin() {\r\n\t\tlet state = this.state.state\r\n\t\tlet draw = true\r\n\t\tlet res\r\n\t\tstate[0].map((e, i) => {\r\n\t\t\tif (e === \"-\" || state[1][i] === \"-\" || state[2][i] === \"-\") draw = false\r\n\t\t\telse if (e === state[1][i] && e === state[2][i]) {\r\n\t\t\t\tres = { win: [[0, i], [1, i], [2, i]], team: e }\r\n\t\t\t}\r\n\t\t})\r\n\t\tstate.map((e, i) => {\r\n\t\t\tif (e[0] === \"-\" || e[1] === \"-\" || e[2] === \"-\") draw = false\r\n\t\t\telse if (e[0] === e[1] && e[0] === e[2]) {\r\n\t\t\t\tres = { win: [[i, 0], [i, 1], [i, 2]], team: e[0] }\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (draw) return { team: \"draw\" }\r\n\t\tif (state[0][0] === state[1][1] && state[1][1] === state[2][2] && state[0][0] != \"-\") {\r\n\t\t\treturn { win: [[0, 0], [1, 1], [2, 2]], team: state[0][0] }\r\n\t\t}\r\n\t\tif (state[0][2] === state[1][1] && state[1][1] === state[2][0] && state[0][2] != \"-\") {\r\n\t\t\treturn { win: [[0, 2], [1, 1], [2, 0]], team: state[0][2] }\r\n\t\t}\r\n\t\tif (res) return res\r\n\t\telse return false\r\n\t}\r\n\tset(x, y) {\r\n\t\tif (this.state.state[y][x] === \"-\" && this.state.turn === this.state.team) {\r\n\t\t\tthis.state.state[y][x] = this.state.team\r\n\t\t\tthis.state.turn = this.state.turn === \"x\" ? \"o\" : \"x\"\r\n\t\t\tsocket.emit(\"updateGame\", { prop: \"state\", value: this.state.state, room: this.state.room })\r\n\t\t\tsocket.emit(\"updateGame\", { prop: \"turn\", value: this.state.turn, room: this.state.room })\r\n\t\t\t//this.forceUpdate()\r\n\t\t}\r\n\t\telse return\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Info turn={this.state.turn} team={this.state.team} status={this.state.status} score={this.state.score} />\r\n\t\t\t\t<GameBoard \tstate={this.state.state} set={this.set.bind(this)}\r\n\t\t\t\t\t\t \tmodal={this.state.modal} winner={this.state.winner} status={this.state.status} />\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Info extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t<div className=\"team\">{\"YOUR TEAM: \" + this.props.team}</div>\r\n\t\t\t\t<div className=\"status\" style={{ color: this.props.status === \"waiting\" ? \"yellow\" : \"green\"}}>{this.props.status}</div>\r\n\t\t\t\t<div className=\"score\">{\"X: \" + String(this.props.score[0]) + \" : \" + String(this.props.score[1]) + \" :O\"}</div>\r\n\t\t\t\t<div className=\"turn\" style={{ color: this.props.turn === \"x\" ? \"red\" : \"blue\"}}>{\"TURN: \" + this.props.turn}</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass GameBoard extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcanvas: null,\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tlet canvas = document.getElementById(\"canvas\")\r\n\t\tcanvas.width = canvas.parentNode.offsetWidth\r\n\t\tcanvas.height = canvas.width\r\n\t\tthis.state.canvas = canvas\r\n\t\tthis.state.ctx = canvas.getContext(\"2d\")\r\n\t\tthis.drawBoard()\r\n\t}\r\n\tdrawBoard() {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.fillStyle = \"black\"\r\n\t\tthis.state.ctx.fillRect(size / 3, 0, 2, size)\r\n\t\tthis.state.ctx.fillRect(2 * size / 3, 0, 2, size)\r\n\t\tthis.state.ctx.fillRect(0, size / 3, size, 2)\r\n\t\tthis.state.ctx.fillRect(0, 2 * size / 3, size, 2)\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tthis.drawState()\r\n\t}\r\n\tdrawZero(x, y) {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.strokeStyle = \"blue\"\r\n\t\tthis.state.ctx.lineWidth = 4\r\n\t\tthis.state.ctx.beginPath()\r\n\t\tthis.state.ctx.arc(x * size / 3 + size / 6, //x\r\n\t\t\t\ty * size / 3 + size / 6, //y\r\n\t\t\t\tsize / 6 - size / 24, //radius\r\n\t\t\t\t0, //start\r\n\t\t\t\tMath.PI * 2) // end\r\n\t\tthis.state.ctx.stroke()\r\n\t}\r\n\tdrawCross(x, y) {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.strokeStyle = \"red\"\r\n\t\tthis.state.ctx.lineWidth = 4\r\n\t\tthis.state.ctx.beginPath()\r\n\t\tthis.state.ctx.moveTo(x * size / 3 + size / 24, y * size / 3 + size / 24)\r\n\t\tthis.state.ctx.lineTo(x * size / 3 + size / 3 - size / 24, y * size / 3 + size / 3 - size / 24)\r\n\t\tthis.state.ctx.moveTo(x * size / 3 + size / 3 - size / 24, y * size / 3 + size / 24)\r\n\t\tthis.state.ctx.lineTo(x * size / 3 + size / 24, y * size / 3 + size / 3 - size / 24)\r\n\t\tthis.state.ctx.stroke()\r\n\t}\r\n\tclearBoard() {\r\n\t\tthis.state.canvas.width = this.state.canvas.width\r\n\t}\r\n\tdrawState() {\r\n\t\tthis.clearBoard()\r\n\t\tthis.drawBoard()\r\n\t\tthis.props.state.map((e, i) => {\r\n\t\t\tfor (let j = 0; j < e.length; j++) {\r\n\t\t\t\tif (e[j] == \"-\") continue\r\n\t\t\t\telse if (e[j] == \"x\") this.drawCross(j, i)\r\n\t\t\t\telse if (e[j] == \"o\") this.drawZero(j, i)\r\n\t\t\t}\r\n\t\t})\r\n\t\tconsole.log(this.props.state)\r\n\t}\r\n\t\r\n\t\r\n\tmakeStep(e) {\r\n\t\tconst size = this.state.canvas.offsetWidth\r\n\t\tlet x = e.clientX - e.target.offsetLeft\r\n\t\tlet y = e.clientY - e.target.offsetTop\r\n\t\tconsole.log(x, y)\r\n\t\tif (x >= 0 && x <= size / 3) x = 0\r\n\t\telse if (x > size / 3 && x <= 2 * size / 3) x = 1\r\n\t\telse x = 2\r\n\t\tif (y >= 0 && y <= size / 3) y = 0\r\n\t\telse if (y > size / 3 && y <= 2 * size / 3) y = 1\r\n\t\telse y = 2\r\n\t\tif (this.props.winner === \"no\" && this.props.status !== \"waiting\") this.props.set(x, y)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container text-center\">\r\n\t\t\t\t<canvas id=\"canvas\" onClick={this.makeStep.bind(this)}></canvas>\r\n\t\t\t\t<Modal winner={this.props.winner} fade={this.props.modal}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Modal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\tend() {\r\n\t\tsocket.emit(\"deleteGame\", window.location.href.split(\"/\")[4])\r\n\t}\r\n\tcontinue() {\r\n\t\tsocket.emit(\"addContinue\", { room: window.location.href.split(\"/\")[4], id: localStorage.getItem(\"id\"), winner: this.props.winner })\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.fade} id=\"exampleModal\" style={{ display: this.props.fade === \"modal fade\" ? \"none\" : \"block\"}}> \r\n  \t\t\t\t<div className=\"modal-dialog\">\r\n    \t\t\t\t<div className=\"modal-content\">\r\n      \t\t\t\t\t<div className=\"modal-header\">\r\n        \t\t\t\t\t<h5 className=\"modal-title\" id=\"exampleModalLabel\">Game Info</h5>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"modal-body\">\r\n      \t\t\t\t\t\t<div>Winner: {this.props.winner.toUpperCase()}</div>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"form-row text-center\">\r\n        \t\t\t\t\t<button className=\"btn btn-success mb-2\" onClick={this.continue.bind(this)}>Continue Game</button>\r\n        \t\t\t\t\t<button className=\"btn btn-danger mb-2 ml-5\" onClick={this.end.bind(this)}>End Game</button>\r\n      \t\t\t\t\t</div>\r\n    \t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default GamePage"]},"metadata":{},"sourceType":"module"}