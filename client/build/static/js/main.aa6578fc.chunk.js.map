{"version":3,"sources":["MainPage.js","GamePage.js","App.js","index.js"],"names":["MainPage","props","state","games","findedGames","modal","this","updateGames","localStorage","getItem","setItem","Date","toString","i","name","fetch","method","res","json","map","e","push","getName","bind","players","playersCount","number","status","tags","forceUpdate","setState","clear","className","func","hideGames","flag","scope","onClick","showModal","fade","hide","hideModal","React","Component","Game","window","location","href","style","cursor","connectToGame","TagsFinder","text","target","value","split","result","length","da","j","k","width","minWidth","placeholder","autocomplete","onInput","find","Modal","game","x","o","score","turn","continue","body","JSON","stringify","headers","console","log","id","display","aria-label","type","changeHandler","updateTags","createGame","socket","openSocket","GamePage","winner","team","room","y","win","on","emit","data","checkWin","showWin","draw","prop","Fragment","set","Info","color","String","GameBoard","canvas","document","getElementById","parentNode","offsetWidth","height","ctx","getContext","drawBoard","size","fillStyle","fillRect","drawState","strokeStyle","lineWidth","beginPath","arc","Math","PI","stroke","moveTo","lineTo","clearBoard","drawCross","drawZero","clientX","offsetLeft","clientY","offsetTop","makeStep","toUpperCase","end","App","path","exact","to","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.aa6578fc.chunk.js","sourcesContent":["import React from 'react'\r\nimport './bootstrap.min.css'\r\n\r\nclass MainPage extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tgames: [],\r\n\t\t\tfindedGames: [],\r\n\t\t\tmodal: \"modal fade\"\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.updateGames()\r\n\t\tif (!localStorage.getItem(\"id\")){\r\n\t\t\tlocalStorage.setItem(\"id\", `f${(+new Date).toString(16)}`)\r\n\t\t}\r\n\t}\r\n\tgetName(i) {\r\n\t\treturn this.state.games[i].props.name\r\n\t}\r\n\tasync updateGames() {\r\n\t\tlet res = await fetch(\"/api/getGames\", { method: \"POST\" })\r\n\t\tlet games = await res.json()\r\n\t\tthis.state.games = []\r\n\t\tthis.state.findedGames = []\r\n\t\tgames.map((e, i) => {\r\n\t\t\tthis.state.games.push(<Game key={i} getName={this.getName.bind(this)}\r\n\t\t\t\t\t\t\t\t\tname={e.name} players={e.playersCount} \r\n\t\t\t\t\t\t\t\t\tnumber={i + 1} status={e.status} tags = {e.tags} />)\r\n\t\t\tthis.state.findedGames.push(this.state.games[i])\r\n\t\t})\r\n\t\tthis.forceUpdate()\r\n\t}\r\n\tshowModal() {\r\n\t\tthis.setState({ modal: \"modal fade show\" })\r\n\t}\r\n\thideModal() {\r\n\t\tthis.setState({ modal: \"modal fade\" })\r\n\t}\r\n\thideGames(games) {\r\n\t\tthis.setState({ findedGames: games })\r\n\t}\r\n\tclearCookie() {\r\n\t\tlocalStorage.clear()\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<TagsFinder games={this.state.games} func={this.hideGames.bind(this)} flag={\"findTags\"} />\r\n\t\t\t\t<table className=\"table table-dark table-striped\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t    \t<tr>\r\n\t\t\t\t      \t\t<th scope=\"col\">#</th>\r\n\t\t\t\t      \t\t<th scope=\"col\">Name</th>\r\n\t\t\t\t      \t\t<th scope=\"col\">Players</th>\r\n\t\t\t\t      \t\t<th scope=\"col\">Status</th>\r\n\t\t\t\t    \t</tr>\r\n\t\t\t\t  \t</thead>\r\n\t\t\t\t  \t<tbody>\r\n\t\t\t\t \t\t{this.state.findedGames}\r\n\t\t\t\t  \t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t<div className=\"form-row text-center\">\r\n\t    \t\t\t<button className=\"btn btn-outline-success\" onClick={this.showModal.bind(this)}>+Create New Game</button>\r\n\t \t\t\t</div>\r\n\t \t\t\t<Modal fade={this.state.modal} hide={this.hideModal.bind(this)} />\r\n\t \t\t\t{/*<button className=\"btn btn-primary\" onClick={this.clearCookie}>Clear Cookie</button>*/}\r\n \t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Game extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\tconnectToGame(e) {\r\n\t\twindow.location.href = \"/game/\" + this.props.getName(this.props.number - 1)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<tr style={{ cursor: 'pointer' }} onClick={this.connectToGame.bind(this)}>\r\n\t\t\t   \t<th scope=\"row\">{this.props.number}</th>\r\n\t\t\t    <td>{this.props.name}</td>\r\n\t\t\t    <td>{this.props.players + \"/2\"}</td>\r\n\t\t\t    <td>{this.props.status}</td>\r\n\t\t\t</tr>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass TagsFinder extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\tfind(e) {\r\n\t\tlet text = e.target.value.split(\" \")\r\n\t\tif (this.props.flag === \"findTags\") {\r\n\t\t\tlet result = []\r\n\t\t\tlet games = this.props.games\r\n\t\t\tfor (let i = 0 ; i < games.length; i++) {\r\n\t\t\t\tlet da = false\r\n\t\t\t\tfor (let j = 0; j < games[i].props.tags.length; j++) {\r\n\t\t\t\t\tfor (let k = 0; k < text.length; k++) if (text[k] === games[i].props.tags[j]) da = true\r\n\t\t\t\t}\r\n\t\t\t\tif (da) result.push(games[i])\r\n\t\t\t}\r\n\t\tif (e.target.value === \"\") this.props.func(games)\r\n\t\telse this.props.func(result)\r\n\t\t}\r\n\t\telse if (this.props.flag === \"setTags\") {\r\n\t\t\tthis.props.func(text)\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\treturn ( <input \tclassName=\"form-control mb-2 mt-2\" \r\n\t\t\t\t\t\tstyle={{ width: '30%', minWidth: '120px'}} \r\n\t\t\t\t\t\tplaceholder=\"Type tags...\" autocomplete=\"on\" onInput={this.find.bind(this)} /> )\r\n\t}\r\n}\r\n\r\nclass Modal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tname: \"\",\r\n\t\t\ttags: []\r\n\t\t}\r\n\t}\r\n\tchangeHandler(e) {\r\n\t\tthis.state.name = e.target.value\r\n\t}\r\n\tupdateTags(tags) {\r\n\t\tthis.setState({ tags: tags })\r\n\t}\r\n\tasync createGame() {\r\n\t\tconst game = {\r\n\t\t\tname: this.state.name,\r\n\t\t\tplayersCount: \"0\",\r\n\t\t\tplayers: { x: \"\", o: \"\"},\r\n\t\t\tscore: [0, 0],\r\n\t\t\tstatus: \"waiting\",\r\n\t\t\tturn: \"x\",\r\n\t\t\tstate: [\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"]\r\n\t\t\t],\r\n\t\t\tcontinue: [],\r\n\t\t\ttags: this.state.tags\r\n\t\t}\r\n\t\tlet res = await fetch('/api/createGame', {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(game),\r\n\t\t\theaders: {'Content-Type': 'application/json'}\r\n\t\t})\r\n\t\tconsole.log(await res.json())\r\n\t\twindow.location.href = \"/game/\" + game.name\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.fade} id=\"exampleModal\" style={{ display: this.props.fade === \"modal fade\" ? \"none\" : \"block\"}}> \r\n  \t\t\t\t<div className=\"modal-dialog\">\r\n    \t\t\t\t<div className=\"modal-content\">\r\n      \t\t\t\t\t<div className=\"modal-header\">\r\n        \t\t\t\t\t<h5 className=\"modal-title\" id=\"exampleModalLabel\">Create New Game</h5>\r\n        \t\t\t\t\t<button className=\"btn-close\" aria-label=\"Close\" onClick={this.props.hide}></button>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"modal-body\">\r\n      \t\t\t\t\t\t<label>Name:</label>\r\n        \t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"game's name\" onInput={this.changeHandler.bind(this)} />\r\n        \t\t\t\t\t<TagsFinder games={[]} func={this.updateTags.bind(this)} flag={\"setTags\"}/>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"form-row text-center\">\r\n        \t\t\t\t\t<button className=\"btn btn-primary mb-2\" onClick={this.createGame.bind(this)}>Create Game</button>\r\n      \t\t\t\t\t</div>\r\n    \t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default MainPage","import React from 'react'\r\nimport openSocket from 'socket.io-client';\r\nimport './GamePage.css'\r\nimport './bootstrap.min.css'\r\n\r\nconst socket = openSocket('http://localhost:5000')\r\n\r\n\r\nclass GamePage extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tstate: [\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"],\r\n\t\t\t\t[\"-\", \"-\", \"-\"]\r\n\t\t\t],\r\n\t\t\tplayersCount: 0,\r\n\t\t\tturn: \"x\",\r\n\t\t\twinner: \"no\",\r\n\t\t\tstatus: \"waiting\",\r\n\t\t\tmodal: \"modal fade\",\r\n\t\t\tteam: \"\",\r\n\t\t\troom: window.location.href.split(\"/\")[4],\r\n\t\t\tscore: [0, 0],\r\n\t\t\tplayers: { x: \"\", y: \"\"}\r\n\t\t} \r\n\t}\r\n\tshowWin(win) {\r\n\t\tthis.setState({ winner: win.team, modal: \"modal fade show\" })\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tsocket.on(\"redirectOnMain\", () => window.location.href = \"/\")\r\n\t\tsocket.emit(\"connectPlayer\", { room: this.state.room, id: localStorage.getItem(\"id\") })\r\n\t\tsocket.on(\"updateClient\", (data) => { \r\n\t\t\tthis.setState({ state: data.state, turn: data.turn, status: data.status,\r\n\t\t\t \t\t\t\tplayersCount: data.playersCount, players: data.players, score: data.score,\r\n\t\t\t \t\t\t\tteam: data.players.x ===  localStorage.getItem(\"id\") ? \"x\" : \"o\" , modal: \"modal fade\", winner: \"no\"})\r\n\t\t\tconsole.log(this.state)\r\n\t\t\tlet win = this.checkWin()\r\n\t\t\tif (win) this.showWin(win)\r\n\t\t})\r\n\t\tsocket.on(\"setCookie\", (data) => {\r\n\t\t\tfetch(\"/api/setCookie\", {\r\n\t\t\t\tmethod: \"POST\",\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: {'Content-Type': 'application/json'}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tcheckWin() {\r\n\t\tlet state = this.state.state\r\n\t\tlet draw = true\r\n\t\tlet res\r\n\t\tstate[0].map((e, i) => {\r\n\t\t\tif (e === \"-\" || state[1][i] === \"-\" || state[2][i] === \"-\") draw = false\r\n\t\t\telse if (e === state[1][i] && e === state[2][i]) {\r\n\t\t\t\tres = { win: [[0, i], [1, i], [2, i]], team: e }\r\n\t\t\t}\r\n\t\t})\r\n\t\tstate.map((e, i) => {\r\n\t\t\tif (e[0] === \"-\" || e[1] === \"-\" || e[2] === \"-\") draw = false\r\n\t\t\telse if (e[0] === e[1] && e[0] === e[2]) {\r\n\t\t\t\tres = { win: [[i, 0], [i, 1], [i, 2]], team: e[0] }\r\n\t\t\t}\r\n\t\t})\r\n\t\tif (draw) return { team: \"draw\" }\r\n\t\tif (state[0][0] === state[1][1] && state[1][1] === state[2][2] && state[0][0] != \"-\") {\r\n\t\t\treturn { win: [[0, 0], [1, 1], [2, 2]], team: state[0][0] }\r\n\t\t}\r\n\t\tif (state[0][2] === state[1][1] && state[1][1] === state[2][0] && state[0][2] != \"-\") {\r\n\t\t\treturn { win: [[0, 2], [1, 1], [2, 0]], team: state[0][2] }\r\n\t\t}\r\n\t\tif (res) return res\r\n\t\telse return false\r\n\t}\r\n\tset(x, y) {\r\n\t\tif (this.state.state[y][x] === \"-\" && this.state.turn === this.state.team) {\r\n\t\t\tthis.state.state[y][x] = this.state.team\r\n\t\t\tthis.state.turn = this.state.turn === \"x\" ? \"o\" : \"x\"\r\n\t\t\tsocket.emit(\"updateGame\", { prop: \"state\", value: this.state.state, room: this.state.room })\r\n\t\t\tsocket.emit(\"updateGame\", { prop: \"turn\", value: this.state.turn, room: this.state.room })\r\n\t\t\t//this.forceUpdate()\r\n\t\t}\r\n\t\telse return\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Info turn={this.state.turn} team={this.state.team} status={this.state.status} score={this.state.score} />\r\n\t\t\t\t<GameBoard \tstate={this.state.state} set={this.set.bind(this)}\r\n\t\t\t\t\t\t \tmodal={this.state.modal} winner={this.state.winner} status={this.state.status} />\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Info extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"info\">\r\n\t\t\t\t<div className=\"team\">{\"YOUR TEAM: \" + this.props.team}</div>\r\n\t\t\t\t<div className=\"status\" style={{ color: this.props.status === \"waiting\" ? \"yellow\" : \"green\"}}>{this.props.status}</div>\r\n\t\t\t\t<div className=\"score\">{\"X: \" + String(this.props.score[0]) + \" : \" + String(this.props.score[1]) + \" :O\"}</div>\r\n\t\t\t\t<div className=\"turn\" style={{ color: this.props.turn === \"x\" ? \"red\" : \"blue\"}}>{\"TURN: \" + this.props.turn}</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass GameBoard extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tcanvas: null,\r\n\t\t}\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tlet canvas = document.getElementById(\"canvas\")\r\n\t\tcanvas.width = canvas.parentNode.offsetWidth\r\n\t\tcanvas.height = canvas.width\r\n\t\tthis.state.canvas = canvas\r\n\t\tthis.state.ctx = canvas.getContext(\"2d\")\r\n\t\tthis.drawBoard()\r\n\t}\r\n\tdrawBoard() {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.fillStyle = \"black\"\r\n\t\tthis.state.ctx.fillRect(size / 3, 0, 2, size)\r\n\t\tthis.state.ctx.fillRect(2 * size / 3, 0, 2, size)\r\n\t\tthis.state.ctx.fillRect(0, size / 3, size, 2)\r\n\t\tthis.state.ctx.fillRect(0, 2 * size / 3, size, 2)\r\n\t}\r\n\tcomponentDidUpdate() {\r\n\t\tthis.drawState()\r\n\t}\r\n\tdrawZero(x, y) {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.strokeStyle = \"blue\"\r\n\t\tthis.state.ctx.lineWidth = 4\r\n\t\tthis.state.ctx.beginPath()\r\n\t\tthis.state.ctx.arc(x * size / 3 + size / 6, //x\r\n\t\t\t\ty * size / 3 + size / 6, //y\r\n\t\t\t\tsize / 6 - size / 24, //radius\r\n\t\t\t\t0, //start\r\n\t\t\t\tMath.PI * 2) // end\r\n\t\tthis.state.ctx.stroke()\r\n\t}\r\n\tdrawCross(x, y) {\r\n\t\tconst size = this.state.canvas.width\r\n\t\tthis.state.ctx.strokeStyle = \"red\"\r\n\t\tthis.state.ctx.lineWidth = 4\r\n\t\tthis.state.ctx.beginPath()\r\n\t\tthis.state.ctx.moveTo(x * size / 3 + size / 24, y * size / 3 + size / 24)\r\n\t\tthis.state.ctx.lineTo(x * size / 3 + size / 3 - size / 24, y * size / 3 + size / 3 - size / 24)\r\n\t\tthis.state.ctx.moveTo(x * size / 3 + size / 3 - size / 24, y * size / 3 + size / 24)\r\n\t\tthis.state.ctx.lineTo(x * size / 3 + size / 24, y * size / 3 + size / 3 - size / 24)\r\n\t\tthis.state.ctx.stroke()\r\n\t}\r\n\tclearBoard() {\r\n\t\tthis.state.canvas.width = this.state.canvas.width\r\n\t}\r\n\tdrawState() {\r\n\t\tthis.clearBoard()\r\n\t\tthis.drawBoard()\r\n\t\tthis.props.state.map((e, i) => {\r\n\t\t\tfor (let j = 0; j < e.length; j++) {\r\n\t\t\t\tif (e[j] == \"-\") continue\r\n\t\t\t\telse if (e[j] == \"x\") this.drawCross(j, i)\r\n\t\t\t\telse if (e[j] == \"o\") this.drawZero(j, i)\r\n\t\t\t}\r\n\t\t})\r\n\t\tconsole.log(this.props.state)\r\n\t}\r\n\t\r\n\t\r\n\tmakeStep(e) {\r\n\t\tconst size = this.state.canvas.offsetWidth\r\n\t\tlet x = e.clientX - e.target.offsetLeft\r\n\t\tlet y = e.clientY - e.target.offsetTop\r\n\t\tconsole.log(x, y)\r\n\t\tif (x >= 0 && x <= size / 3) x = 0\r\n\t\telse if (x > size / 3 && x <= 2 * size / 3) x = 1\r\n\t\telse x = 2\r\n\t\tif (y >= 0 && y <= size / 3) y = 0\r\n\t\telse if (y > size / 3 && y <= 2 * size / 3) y = 1\r\n\t\telse y = 2\r\n\t\tif (this.props.winner === \"no\" && this.props.status !== \"waiting\") this.props.set(x, y)\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"container text-center\">\r\n\t\t\t\t<canvas id=\"canvas\" onClick={this.makeStep.bind(this)}></canvas>\r\n\t\t\t\t<Modal winner={this.props.winner} fade={this.props.modal}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Modal extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\tend() {\r\n\t\tsocket.emit(\"deleteGame\", window.location.href.split(\"/\")[4])\r\n\t}\r\n\tcontinue() {\r\n\t\tsocket.emit(\"addContinue\", { room: window.location.href.split(\"/\")[4], id: localStorage.getItem(\"id\"), winner: this.props.winner })\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.fade} id=\"exampleModal\" style={{ display: this.props.fade === \"modal fade\" ? \"none\" : \"block\"}}> \r\n  \t\t\t\t<div className=\"modal-dialog\">\r\n    \t\t\t\t<div className=\"modal-content\">\r\n      \t\t\t\t\t<div className=\"modal-header\">\r\n        \t\t\t\t\t<h5 className=\"modal-title\" id=\"exampleModalLabel\">Game Info</h5>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"modal-body\">\r\n      \t\t\t\t\t\t<div>Winner: {this.props.winner.toUpperCase()}</div>\r\n      \t\t\t\t\t</div>\r\n      \t\t\t\t\t<div className=\"form-row text-center\">\r\n        \t\t\t\t\t<button className=\"btn btn-success mb-2\" onClick={this.continue.bind(this)}>Continue Game</button>\r\n        \t\t\t\t\t<button className=\"btn btn-danger mb-2 ml-5\" onClick={this.end.bind(this)}>End Game</button>\r\n      \t\t\t\t\t</div>\r\n    \t\t\t\t</div>\r\n  \t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default GamePage","import { Switch, Route, Redirect, BrowserRouter } from 'react-router-dom'\nimport MainPage from './MainPage.js'\nimport GamePage from './GamePage.js'\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact><MainPage /></Route>\n        <Route path=\"/game/:id\" exact><GamePage /></Route>\n        <Redirect to=\"/\" />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}